# ITSoEasy
## Что творится при вводе ya.ru в окне браузера 

При нажатии клавиши меняется заряд на конденсаторе. Контроллер клавиатуры считывает это, посылает сигнал по протоколу USB HID / PS/2 на соответствующий интерфейс. Контроллер шины кидает прерывание, проц переключается в режим ядра, вызвает обработчик прерывания клавы, который в драйвере, драйвер сообщает ядру оси, что нажата клавиша со сканкодом 'Y', ось преобразует это в букву в зависимости от раскладки, ось передает мессадж в wndproc (я на примере винды, в лине там иксы вроде бы рулят, но архитектурно похоже примерно ), wndproc хрома (к примеру), в дебрях инкапсуляции вызвает его обработчик OnTextChange, в зависимости от настроек может асинхронно слать DNS-запрос по известному из DHCP DNS-серверу, Если ответ успевает прийти, то хром рисует рюшечку.

### DNS-запрос
Хром формирует DNS-запрос через winsock/Boost.Asio/libcurl/ прочую хуиту (все равно в итоге на winsock перейдет) , винсок это пошлет текущему минидрайверу сетевухи, произойдет переход в режим ядра, и инфа с днс-запросом запишется в отображенную память той сетевухи, потом контроллер шины перешлет эту инфу на сетевуху, она формирует Ethernet-фрейм (преамбулу, MAC'и), инкапсулирует туда IP-пакет с src /dst, потом DNS, шлет по маку на рутер.

Taz Hate, [07.04.16 23:58]
А если  арп таблице нету? А еще таблица маршрутизации

Alex Fails⏳, [07.04.16 23:58]
да, арп, точняк

Alex Fails⏳, [07.04.16 23:58]
из него же мы определяем мак-адрес, куда по среде слать


Alex Fails⏳, [07.04.16 23:59]
то мы кидаем броадкаст

Taz Hate, [07.04.16 23:59]
А еще потом свитч/роутер


Alex Fails⏳, [07.04.16 23:59]
ага, как дойдет до него, он в таблицу коммутации/маршрутизации лезет

... и так до ввода полного адреса. И мы начинаем опять на DNS слать запрос - он нам IP серва. Мы кидаем его на "основной шлюз", тот, в соответствие с таблицами маршрутизации, шлет дальше
